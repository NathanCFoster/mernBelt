(this.webpackJsonppiratesclient=this.webpackJsonppiratesclient||[]).push([[0],{163:function(e,t,a){},164:function(e,t,a){},192:function(e,t){},194:function(e,t){},205:function(e,t){},207:function(e,t){},232:function(e,t){},234:function(e,t){},235:function(e,t){},240:function(e,t){},242:function(e,t){},248:function(e,t){},250:function(e,t){},269:function(e,t){},281:function(e,t){},284:function(e,t){},287:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),r=a(47),n=a.n(r),l=(a(163),a(5)),i=(a(164),a(23)),o=a(3),j=a(16),m=a.n(j),b=a(290),d=a(289),u=a(157),h=a(0),O=function(e){var t=Object(c.useState)([]),a=Object(l.a)(t,2),s=a[0],r=a[1],n=Object(c.useState)((function(){return Object(u.a)(":8000")})),o=Object(l.a)(n,1)[0];return Object(c.useEffect)((function(){o.emit("updateAllPirates"),o.on("pirates",(function(e){return r(e)}))}),[]),Object(h.jsxs)("div",{className:"row m-3",children:[Object(h.jsxs)("div",{className:"nav m-3 align-items-center justify-content-between",children:[Object(h.jsx)("p",{className:"display-2",children:"Pirate Crew"}),Object(h.jsxs)("div",{className:"d-flex flex-row",children:[Object(h.jsx)(i.b,{to:"/create",className:"nav-link",children:"Add Pirate"}),Object(h.jsx)(i.b,{to:"/logout",className:"nav-link",children:"Logout"})]})]}),Object(h.jsx)(b.a,{className:"list-group list-group-flush",children:s.map((function(e){return Object(h.jsx)(d.a,{timeout:300,classNames:"pirates",children:Object(h.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[Object(h.jsx)("img",{src:e.image,alt:"pirate img",style:{height:200}}),Object(h.jsx)(i.b,{to:"/view/"+e._id,className:"nav-link",children:e.name}),Object(h.jsx)(i.b,{className:"nav-link text-danger",to:"/delete/"+e._id,children:"Make them walk the plank"})]})},e._id)}))})]})},x=a(25),p=a.n(x),f=a(36),g=a(91),v=a.n(g),N=function(e){var t=Object(c.useState)(""),a=Object(l.a)(t,2),s=a[0],r=a[1],n=Object(c.useState)(""),i=Object(l.a)(n,2),o=i[0],j=i[1],b=function(){var t=Object(f.a)(p.a.mark((function t(a){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,m.a.get("http://localhost:8000/api/users/name/"+s+"/");case 3:return t.next=5,t.sent.data[0];case 5:c=t.sent,v.a.compareSync(o,c.password)&&e.login(c._id);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsxs)("form",{onSubmit:b,className:"form col m-5",children:[Object(h.jsx)("p",{className:"display-2",children:"Login"}),Object(h.jsxs)("div",{className:"form-floating mb-3",children:[Object(h.jsx)("input",{type:"text",className:"form-control",value:s,placeholder:"e",onChange:function(e){return r(e.target.value)}}),Object(h.jsx)("label",{className:"text-black",children:"Username"})]}),Object(h.jsxs)("div",{className:"form-floating mb-3",children:[Object(h.jsx)("input",{type:"password",className:"form-control",value:o,placeholder:"e",onChange:function(e){return j(e.target.value)}}),Object(h.jsx)("label",{className:"text-black",children:"Password"})]}),Object(h.jsx)("div",{className:"d-grid",children:Object(h.jsx)("input",{type:"submit",value:"Login",className:"btn btn-outline-dark"})})]})},k=a(55),w=a(91),y=function(e){var t=Object(c.useState)(""),a=Object(l.a)(t,2),s=a[0],r=a[1],n=Object(c.useState)(""),i=Object(l.a)(n,2),o=i[0],j=i[1],b=Object(c.useState)(""),d=Object(l.a)(b,2),u=d[0],O=d[1],x=Object(c.useState)(""),g=Object(l.a)(x,2),v=g[0],N=g[1],y=Object(c.useState)({userErr:!1,emailErr:!1,pwErr:!1,confirmErr:!1,nameErr:!1,mailErr:!1}),E=Object(l.a)(y,2),S=E[0],C=E[1];Object(c.useEffect)(Object(f.a)(p.a.mark((function t(){var a,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object.keys(S).every((function(e){return 0==S[e]}))||0==s.length){t.next=6;break}return t.next=3,m.a.post("http://localhost:8000/api/users/new",{username:s,email:o,password:w.hashSync(u,8)});case 3:a=t.sent,c=Object(k.a)({},S),a.error?(a.error.errors.username&&(c.userErr=!0),a.error.errors.email&&(c.emailErr=!0),a.error.errors.password&&(c.pwErr=!0),C(c)):e.login(a.data._id);case 6:case"end":return t.stop()}}),t)}))),[S]);var P=function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=Object(k.a)({},S)).emailErr=!1,a.pwErr=!1,a.userErr=!1,a.confirmErr=v!=u,e.next=8,m.a.get("http://localhost:8000/api/users/name/"+s+"/");case 8:return e.next=10,e.sent.data;case 10:return 0!=e.sent.length?a.nameErr=!0:a.nameErr=!1,e.next=14,m.a.get("http://localhost:8000/api/users/email/"+o+"/");case 14:return e.next=16,e.sent.data;case 16:0!=e.sent.length?a.mailErr=!0:a.mailErr=!1,C(a);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("form",{onSubmit:P,className:"form col m-5",children:[Object(h.jsx)("p",{className:"display-2",children:"Register"}),S.userErr&&Object(h.jsx)("p",{className:"alert alert-danger text-center m-3",children:"Username must be at least 3 characters!"}),S.nameErr&&Object(h.jsx)("p",{className:"alert alert-danger text-center m-3",children:"Someone's already used that username!"}),Object(h.jsxs)("div",{className:"form-floating mb-3",children:[Object(h.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return r(e.target.value)},value:s,placeholder:"e"}),Object(h.jsx)("label",{className:"text-black",children:"Username"}),!S.userErr&&Object(h.jsx)("p",{className:"form-text ms-3 text-start",children:"Username must be at least 3 characters"})]}),S.emailErr&&Object(h.jsx)("div",{className:"alert alert-danger text-center m-3",children:"Email is invalid"}),S.mailErr&&Object(h.jsx)("p",{className:"alert alert-danger text-center m-3",children:"Someone's already used that email!"}),Object(h.jsxs)("div",{className:"form-floating mb-3",children:[Object(h.jsx)("input",{type:"text",value:o,placeholder:"e",onChange:function(e){return j(e.target.value)},className:"form-control"}),Object(h.jsx)("label",{className:"text-black",children:"Email"})]}),S.pwErr&&Object(h.jsx)("p",{className:"alert alert-danger text-center m-3",children:"Password must be at least 8 characters and have at least one number!"}),Object(h.jsxs)("div",{className:"form-floating mb-3",children:[Object(h.jsx)("input",{type:"password",value:u,placeholder:"e",onChange:function(e){return O(e.target.value)},className:"form-control"}),Object(h.jsx)("label",{className:"text-black",children:"Password"}),!S.pwErr&&Object(h.jsx)("p",{className:"form-text ms-3 text-start",children:"Password needs to be 8 chars and have at least one number"})]}),S.confirmErr&&Object(h.jsx)("p",{className:"alert alert-danger text-center m-3",children:"Passwords must be the same!"}),Object(h.jsxs)("div",{className:"form-floating mb-3",children:[Object(h.jsx)("input",{type:"password",value:v,placeholder:"e",onChange:function(e){return N(e.target.value)},className:"form-control"}),Object(h.jsx)("label",{className:"text-black",children:"Confirm Password"})]}),Object(h.jsx)("div",{className:"d-grid",children:Object(h.jsx)("input",{type:"submit",value:"Register",className:"btn btn-outline-dark"})})]})},E=function(e){var t=Object(o.f)();return Object(c.useEffect)((function(){e.login(""),localStorage.clear(),t("/")}),[]),Object(h.jsx)("div",{})},S=function(e){var t=Object(c.useState)(""),a=Object(l.a)(t,2),s=a[0],r=a[1],n=Object(c.useState)(""),j=Object(l.a)(n,2),b=j[0],d=j[1],u=Object(c.useState)(""),O=Object(l.a)(u,2),x=O[0],g=O[1],v=Object(c.useState)(""),N=Object(l.a)(v,2),w=N[0],y=N[1],E=Object(c.useState)("Captain"),S=Object(l.a)(E,2),C=S[0],P=S[1],F=Object(c.useState)(!0),M=Object(l.a)(F,2),L=M[0],A=M[1],B=Object(c.useState)(!0),I=Object(l.a)(B,2),U=I[0],_=I[1],D=Object(c.useState)(!0),H=Object(l.a)(D,2),T=H[0],Y=H[1],J=Object(c.useState)({name:"",image:"",numofchests:"",catchphrase:"",position:"",pegleg:"",eyepatch:"",hookhand:""}),Q=Object(l.a)(J,2),R=Q[0],q=Q[1],z=Object(o.f)(),G=function(){var e=Object(f.a)(p.a.mark((function e(t){var a,c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,m.a.post("http://localhost:8000/api/pirates/new",{name:s,image:b,numofchests:x,catchphrase:w,position:C,pegleg:L,eyepatch:U,hookhand:T});case 3:if((a=e.sent).data.error){for(r in c=Object(k.a)({},R),a.data.error.errors)c[r]=a.data.error.errors[r].message;console.log(C),q(c)}else z("/");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"row m-3",children:[Object(h.jsxs)("div",{className:"nav justify-content-between m-3 align-items-center",children:[Object(h.jsx)("p",{className:"display-3",children:"Add Pirate"}),Object(h.jsx)(i.b,{to:"/",className:"nav-link",children:"Crew Board"})]}),Object(h.jsxs)("form",{onSubmit:G,className:"form me-5",children:[""!=R.name&&Object(h.jsx)("div",{className:"alert alert-danger",children:R.name}),Object(h.jsxs)("div",{className:"form-floating mb-3",children:[Object(h.jsx)("input",{type:"text",placeholder:"e",value:s,onChange:function(e){return r(e.target.value)},className:"form-control"}),Object(h.jsx)("label",{className:"text-black",children:"Pirate Name"})]}),""!=R.image&&Object(h.jsx)("div",{className:"alert alert-danger",children:R.image}),Object(h.jsxs)("div",{className:"form-floating mb-3",children:[Object(h.jsx)("input",{type:"text",placeholder:"e",value:b,onChange:function(e){return d(e.target.value)},className:"form-control"}),Object(h.jsx)("label",{className:"text-black",children:"Image Url"})]}),""!=R.numofchests&&Object(h.jsx)("div",{className:"alert alert-danger",children:R.numofchests}),Object(h.jsxs)("div",{className:"form-floating mb-3",children:[Object(h.jsx)("input",{type:"number",placeholder:"e",value:x,onChange:function(e){return g(e.target.value)},className:"form-control"}),Object(h.jsx)("label",{className:"text-black",children:"Num of Chests"})]}),""!=R.catchphrase&&Object(h.jsx)("div",{className:"alert alert-danger",children:R.catchphrase}),Object(h.jsxs)("div",{className:"form-floating mb-3",children:[Object(h.jsx)("textarea",{className:"form-control",style:{height:100},placeholder:"e",value:w,onChange:function(e){return y(e.target.value)}}),Object(h.jsx)("label",{className:"text-black",children:"Pirate Catch Phrases"})]}),""!=R.position&&Object(h.jsx)("div",{className:"alert alert-danger",children:R.position}),Object(h.jsxs)("div",{className:"text-start",children:[Object(h.jsx)("label",{htmlFor:"select",className:"text-black ms-2",children:"Position"}),Object(h.jsxs)("select",{id:"select",onChange:function(e){return P(e.target.value)},value:C,className:"form-select mb-3",children:[Object(h.jsx)("option",{value:"Captain",children:"Captain"}),Object(h.jsx)("option",{value:"First Mate",children:"First Mate"}),Object(h.jsx)("option",{value:"Quarter Master",children:"Quarter Master"}),Object(h.jsx)("option",{value:"Boatswain",children:"Boatswain"}),Object(h.jsx)("option",{value:"Powder Monkey",children:"Powder Monkey"})]})]}),Object(h.jsxs)("div",{className:"form-check mb-3 text-start",children:[Object(h.jsx)("input",{type:"checkbox",checked:L,onChange:function(e){return A(!L)},className:"form-check-input",id:"pegleg"}),Object(h.jsx)("label",{htmlFor:"pegleg",className:"form-check-label",children:"Pegleg"})]}),Object(h.jsxs)("div",{className:"form-check mb-3 text-start",children:[Object(h.jsx)("input",{type:"checkbox",checked:U,onChange:function(e){return _(!U)},className:"form-check-input",id:"eyepatch"}),Object(h.jsx)("label",{htmlFor:"eyepatch",className:"form-check-label",children:"Eyepatch"})]}),Object(h.jsxs)("div",{className:"form-check mb-3 text-start",children:[Object(h.jsx)("input",{type:"checkbox",checked:T,onChange:function(e){return Y(!T)},className:"form-check-input",id:"hookhand"}),Object(h.jsx)("label",{htmlFor:"hookhand",className:"form-check-label",children:"Hookhand"})]}),Object(h.jsx)("div",{className:"d-grid",children:Object(h.jsx)("input",{type:"submit",value:"Create",className:"btn btn-outline-dark"})})]})]})},C=function(e){var t=Object(o.g)().id,a=Object(c.useState)({}),s=Object(l.a)(a,2),r=s[0],n=s[1];return Object(c.useEffect)((function(){m.a.get("http://localhost:8000/api/pirates/"+t+"/").then((function(e){console.log(e.data),n(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(h.jsxs)("div",{className:"row m-3",children:[Object(h.jsxs)("div",{className:"nav m-3 align-items-center justify-content-between",children:[Object(h.jsx)("p",{className:"display-3",children:r.name}),Object(h.jsx)(i.b,{to:"/",className:"nav-link",children:"Home"})]}),Object(h.jsxs)("div",{className:"row m-5",children:[Object(h.jsx)("div",{className:"col",children:Object(h.jsx)("img",{src:r.image,alt:"pirate img"})}),Object(h.jsxs)("div",{className:"col row",children:[Object(h.jsx)("p",{className:"display-4",children:"About"}),Object(h.jsx)("dt",{className:"col-sm-3",children:"Position:"}),Object(h.jsx)("dd",{className:"col-sm-9",children:r.position}),Object(h.jsx)("dt",{className:"col-sm-3",children:"Treasures:"}),Object(h.jsx)("dd",{className:"col-sm-9",children:r.numofchests}),Object(h.jsx)("dt",{className:"col-sm-3",children:"Peg Leg:"}),Object(h.jsx)("dd",{className:"col-sm-9",children:r.pegleg?"Yes":"No"}),Object(h.jsx)("dt",{className:"col-sm-3",children:"Eye Patch:"}),Object(h.jsx)("dd",{className:"col-sm-9",children:r.eyepatch?"Yes":"No"}),Object(h.jsx)("dt",{className:"col-sm-3",children:"Hook Hand:"}),Object(h.jsx)("dd",{className:"col-sm-9",children:r.hookhand?"Yes":"No"})]})]})]})},P=function(e){var t=Object(o.g)().id,a=Object(o.f)();return Object(c.useEffect)((function(){m.a.delete("http://localhost:8000/api/pirates/delete/"+t+"/").then((function(){return a("/")}))}),[]),Object(h.jsx)("div",{})};var F=function(){var e=localStorage.getItem("uid"),t=Object(c.useState)(e||""),a=Object(l.a)(t,2),s=a[0],r=a[1],n=function(e){r(e),localStorage.setItem("uid",e)};return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(i.a,{children:Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{path:"/",element:s?Object(h.jsx)(O,{uid:s}):Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)(N,{login:n}),Object(h.jsx)(y,{login:n})]})}),Object(h.jsx)(o.a,{path:"/logout",element:Object(h.jsx)(E,{login:n})}),Object(h.jsx)(o.a,{path:"/create",element:Object(h.jsx)(S,{})}),Object(h.jsx)(o.a,{path:"/view/:id",element:Object(h.jsx)(C,{})}),Object(h.jsx)(o.a,{path:"/delete/:id",element:Object(h.jsx)(P,{})})]})})})},M=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,291)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,n=t.getTTFB;a(e),c(e),s(e),r(e),n(e)}))};n.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(F,{})}),document.getElementById("root")),M()}},[[287,1,2]]]);
//# sourceMappingURL=main.cfcde7a6.chunk.js.map